# -----------------------------------------------------------------------------
# Git Local Configuration for Windows
# This file is machine-specific and should NOT be committed.
# On a new machine, copy this to ~/.gitconfig.local and fill in the details.
# -----------------------------------------------------------------------------

# --- User Identity (Required) ---
[user]
  name = Your Name
  email = your.email@example.com

  # --- Commit Signing Key (Required for 1Password) ---
  # Get this by running: ssh-add -L
  # This will list keys from your 1Password agent.
  # Example: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIHlourExampleKey... user@example.com
  signingkey = YOUR_SSH_PUBLIC_KEY_HERE

# --- Global Commit Signing Settings ---
[commit]
  # Enables commit signing for all repositories on this machine.
  gpgsign = true

[gpg]
  # Tells Git to use SSH keys for signing.
  format = ssh

# --- 1Password SSH Signing Program for Windows ---
[gpg "ssh"]
  # Note the '.exe' extension and the path for Windows.
  program = "$env:LOCALAPPDATA\\1Password\\app\\8\\op-ssh-sign.exe"

# --- Credential Helper for Windows ---
[credential]
  # Use the Git Credential Manager, which is the standard for Windows
  # and integrates with Windows Credential Manager.
  helper = manager

# --- Good Defaults (Universal) ---
[core]
  editor = "code --wait"   # Use VS Code/Cursor as default editor
  autocrlf = true          # Handle line endings properly on Windows

[push]
  default = simple         # Only push current branch
  autoSetupRemote = true   # Automatically set up remote tracking

[pull]
  rebase = true            # Use rebase instead of merge when pulling

# --- Useful Aliases (Universal) ---
[alias]
  co = checkout
  br = branch
  ci = commit
  st = status
  lg = log --oneline --graph --decorate --all
  unstage = reset HEAD --
  last = log -1 HEAD
  amend = commit --amend --no-edit
  undo = reset --soft HEAD~1
  
# --- Diff & Merge Tool (Universal, for VS Code/Cursor) ---
[merge]
  tool = vscode
[mergetool "vscode"]
  cmd = code --wait $MERGED
  
[diff]
  tool = vscode
[difftool "vscode"]
  cmd = code --wait --diff $LOCAL $REMOTE 